{
  "version": 3,
  "sources": ["../app/src/utils-browser.js", "../app/src/utils.js", "../app/src/extension/content.js"],
  "sourcesContent": ["class Storage {\r\n    static get(key) {\r\n        const res = localStorage.getItem(\"cicy_\" + key)\r\n        if (res) {\r\n            return JSON.parse(res)[0]\r\n        } else {\r\n            null\r\n        }\r\n    }\r\n\r\n    static set(key, value) {\r\n        localStorage.setItem(\"cicy_\" + key, JSON.stringify([value]))\r\n    }\r\n}\r\n\r\nconst RECT_ID = \"__rect\"\r\n\r\nfunction showRect({width, height, left, top}, timeout) {\r\n    const existing = document.getElementById(RECT_ID);\r\n    if (existing) existing.remove();\r\n    if (!timeout) {\r\n        timeout = 2\r\n    }\r\n\r\n    const div = document.createElement('div');\r\n    div.id = RECT_ID;\r\n    div.style.cssText = `\r\n    position: fixed;\r\n    width: ${width}px;\r\n    height: ${height}px;\r\n    top: ${top}px;\r\n    left: ${left}px;\r\n    padding: 10px 20px;\r\n    background: #ff4444;\r\n    color: white;\r\n    border-radius: 4px;\r\n    z-index: 2147483647;\r\n    box-shadow: 0 4px 6px rgba(0,0,0,0.1);\r\n    transition: opacity 0.3s ease;\r\n    pointer-events: none;\r\n  `;\r\n    document.body.appendChild(div);\r\n\r\n    setTimeout(() => {\r\n        div.style.opacity = '0';\r\n        setTimeout(() => div.remove(), 300);\r\n    }, timeout * 1000);\r\n}\r\n\r\nfunction __getChats(chat) {\r\n    const {id, messages, title, updateTime} = chat\r\n    const rows = []\r\n    for (let i = 0; i < messages.length; i++) {\r\n        const {text} = messages[i]\r\n        rows.push(text)\r\n    }\r\n    rows.reverse()\r\n    let reply = null\r\n    if (rows.length > 0) {\r\n        reply = rows[0]\r\n    }\r\n    return {\r\n        id, title, reply, updateTime, messages: rows\r\n    }\r\n}\r\n\r\nasync function getChatGptChats() {\r\n    const db = window._G.useIndexedDB('ConversationsDatabase', 'conversations');\r\n    const allItems = await db.getAllItems();\r\n    console.log(\"allItems\", allItems)\r\n    if (allItems.length === 0) {\r\n        return null\r\n    }\r\n    allItems.reverse()\r\n    return __getChats(allItems[0])\r\n}\r\n\r\n\r\n// \u9012\u5F52\u904D\u5386\u6240\u6709\u8282\u70B9\uFF0C\u79FB\u9664\u5C5E\u6027\u5E76\u6E05\u7406\u7A7A\u683C\uFF0C\u540C\u65F6\u5220\u9664\u7A7A\u5143\u7D20\r\nfunction cleanNode(node) {\r\n    if (node.nodeType === Node.ELEMENT_NODE) {\r\n        // \u79FB\u9664\u6240\u6709\u5C5E\u6027\r\n        while (node.attributes.length > 0) {\r\n            node.removeAttribute(node.attributes[0].name);\r\n        }\r\n\r\n        // \u9012\u5F52\u5904\u7406\u5B50\u8282\u70B9\uFF08\u4ECE\u540E\u5F80\u524D\u904D\u5386\uFF0C\u65B9\u4FBF\u5220\u9664\uFF09\r\n        for (let i = node.childNodes.length - 1; i >= 0; i--) {\r\n            cleanNode(node.childNodes[i]);\r\n        }\r\n\r\n        // \u5982\u679C\u5143\u7D20\u6CA1\u6709\u5B50\u8282\u70B9\uFF0C\u6216\u8005\u6240\u6709\u5B50\u8282\u70B9\u90FD\u662F\u7A7A\u6587\u672C\uFF0C\u5219\u5220\u9664\u81EA\u5DF1\r\n        if (\r\n            node.childNodes.length === 0 ||\r\n            [...node.childNodes].every(\r\n                n => n.nodeType === Node.TEXT_NODE && !n.textContent.trim()\r\n            )\r\n        ) {\r\n            node.remove();\r\n        }\r\n\r\n    } else if (node.nodeType === Node.TEXT_NODE) {\r\n        // \u538B\u7F29\u6587\u672C\uFF1A\u53BB\u9664\u6362\u884C\u548C\u591A\u4F59\u7A7A\u683C\r\n        const cleanedText = node.textContent.replace(/\\s+/g, ' ').trim();\r\n        if (!cleanedText) {\r\n            node.remove(); // \u5982\u679C\u662F\u7EAF\u7A7A\u683C\u8282\u70B9\u5219\u5220\u9664\r\n        } else {\r\n            node.textContent = cleanedText;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * \u538B\u7F29 HTML \u5E76\u4F18\u5316\u5D4C\u5957\u7A7A\u6807\u7B7E\uFF0C\u540C\u65F6\u4FDD\u7559\u5185\u5BB9\r\n * @returns {string} \u538B\u7F29\u5E76\u4F18\u5316\u540E\u7684 HTML\r\n */\r\nfunction getCleanHtml(ele) {\r\n    // \u514B\u9686\u6587\u6863\uFF0C\u907F\u514D\u7834\u574F\u9875\u9762\r\n    let doc = ele.cloneNode(true);\r\n\r\n    // \u5220\u9664\u65E0\u7528\u6807\u7B7E\r\n    const uselessTags = [\r\n        'script', 'style', 'link', 'img', 'video',\r\n        'audio', 'iframe', 'svg', 'noscript', 'canvas'\r\n    ];\r\n    uselessTags.forEach(tag => {\r\n        const elements = doc.querySelectorAll(tag);\r\n        elements.forEach(el => el.remove());\r\n    });\r\n    cleanNode(doc);\r\n    return doc.outerHTML;\r\n}\r\n\r\nfunction regxHTML(html) {\r\n    return html\r\n        // \u5220\u9664\u6CE8\u91CA\r\n        .replace(/<!--[\\s\\S]*?-->/g, \"\")\r\n        //</div></div> ... => </div>\r\n        //<div><div> ... => <div>\r\n        // .replace(/div/g, '')\r\n        .replace(/span/g, '')\r\n        .replace(/<>/g, '')\r\n        .replace(/<\\/>/g, '')\r\n        .trim();\r\n}\r\n\r\n\r\nfunction regxHTML1(html) {\r\n    let t = html\r\n        .replace(/span/g, 'div')\r\n        .trim();\r\n\r\n    while (t.indexOf(\"<div><div>\") > -1) {\r\n        t = t\r\n            .replace(/<div><div>/g, '<div>')\r\n    }\r\n    while (t.indexOf(\"</div></div>\") > -1) {\r\n        t = t\r\n            .replace(/<\\/div><\\/div>/g, '</div>')\r\n    }\r\n    return t\r\n}\r\n\r\n\r\nconst FLOAT_DIV_ID = '__floatDiv'\r\n\r\nfunction showFloatDiv({width = 50, height = 50, left = 50, top = 50}) {\r\n    const existing = document.getElementById(FLOAT_DIV_ID)\r\n    if (existing) existing.remove()\r\n\r\n    const div = document.createElement('div')\r\n    div.id = FLOAT_DIV_ID\r\n    div.style.cssText = `\r\n    position: fixed;\r\n    width: ${width}px;\r\n    height: ${height}px;\r\n    top: ${top}px;\r\n    left: ${left}px;\r\n    background: rgba(255, 255, 255, 0.9);\r\n    border: 2px solid #333;\r\n    border-radius: 4px;\r\n    z-index: 2147483647;\r\n    box-shadow: 0 4px 6px rgba(0,0,0,0.3);\r\n    cursor: move;\r\n  `\r\n\r\n    // Add resize handles\r\n    const handles = ['nw', 'ne', 'sw', 'se']\r\n    handles.forEach(pos => {\r\n        const handle = document.createElement('div')\r\n        handle.className = `resize-handle ${pos}`\r\n        handle.style.cssText = `\r\n      position: absolute;\r\n      width: 10px;\r\n      height: 10px;\r\n      background: #333;\r\n      ${pos.includes('n') ? 'top: -5px;' : 'bottom: -5px;'}\r\n      ${pos.includes('w') ? 'left: -5px;' : 'right: -5px;'}\r\n      cursor: ${pos}-resize;\r\n    `\r\n        div.appendChild(handle)\r\n    })\r\n\r\n    document.body.appendChild(div)\r\n\r\n    let isDragging = false\r\n    let isResizing = false\r\n    let startX, startY, startLeft, startTop, startWidth, startHeight, resizeHandle\r\n\r\n    div.addEventListener('mousedown', (e) => {\r\n        if (e.target.classList.contains('resize-handle')) {\r\n            isResizing = true\r\n            resizeHandle = e.target.className.split(' ')[1]\r\n            startX = e.clientX\r\n            startY = e.clientY\r\n            startWidth = div.offsetWidth\r\n            startHeight = div.offsetHeight\r\n            startLeft = div.offsetLeft\r\n            startTop = div.offsetTop\r\n            e.preventDefault()\r\n        } else {\r\n            isDragging = true\r\n            startX = e.clientX\r\n            startY = e.clientY\r\n            startLeft = div.offsetLeft\r\n            startTop = div.offsetTop\r\n            e.preventDefault()\r\n        }\r\n    })\r\n\r\n    document.addEventListener('mousemove', (e) => {\r\n        if (isDragging) {\r\n            const newLeft = startLeft + (e.clientX - startX)\r\n            const newTop = startTop + (e.clientY - startY)\r\n            div.style.left = `${newLeft}px`\r\n            div.style.top = `${newTop}px`\r\n            console.debug(`Position: left=${newLeft}, top=${newTop}`)\r\n        } else if (isResizing) {\r\n            let newWidth = startWidth\r\n            let newHeight = startHeight\r\n            let newLeft = startLeft\r\n            let newTop = startTop\r\n\r\n            if (resizeHandle.includes('e')) {\r\n                newWidth = startWidth + (e.clientX - startX)\r\n            }\r\n            if (resizeHandle.includes('s')) {\r\n                newHeight = startHeight + (e.clientY - startY)\r\n            }\r\n            if (resizeHandle.includes('w')) {\r\n                newWidth = startWidth - (e.clientX - startX)\r\n                newLeft = startLeft + (e.clientX - startX)\r\n            }\r\n            if (resizeHandle.includes('n')) {\r\n                newHeight = startHeight - (e.clientY - startY)\r\n                newTop = startTop + (e.clientY - startY)\r\n            }\r\n\r\n            div.style.width = `${Math.max(50, newWidth)}px`\r\n            div.style.height = `${Math.max(50, newHeight)}px`\r\n            div.style.left = `${newLeft}px`\r\n            div.style.top = `${newTop}px`\r\n            console.log(`Size: width=${Math.max(50, newWidth)}, height=${Math.max(50, newHeight)}`)\r\n        }\r\n    })\r\n\r\n    document.addEventListener('mouseup', () => {\r\n        isDragging = false\r\n        isResizing = false\r\n    })\r\n}\r\n\r\nfunction hideFloatDiv() {\r\n    const div = document.getElementById(FLOAT_DIV_ID)\r\n    if (div) div.remove()\r\n}\r\n\r\nfunction toggleDiv() {\r\n    const existing = document.getElementById(FLOAT_DIV_ID)\r\n    if (existing) {\r\n        existing.remove()\r\n    } else {\r\n        showFloatDiv({})\r\n    }\r\n}\r\n\r\n\r\nfunction useIndexedDB(dbName, storeName) {\r\n    return {\r\n        openDB: function () {\r\n            return new Promise((resolve, reject) => {\r\n                // \u2B07\uFE0F FIXED: removed explicit version\r\n                const request = indexedDB.open(dbName);\r\n\r\n                request.onupgradeneeded = (event) => {\r\n                    const db = event.target.result;\r\n                    if (!db.objectStoreNames.contains(storeName)) {\r\n                        db.createObjectStore(storeName, {keyPath: 'id', autoIncrement: true});\r\n                    }\r\n                };\r\n\r\n                request.onsuccess = (event) => resolve(event.target.result);\r\n                request.onerror = (event) => reject(event.target.error);\r\n            });\r\n        },\r\n\r\n        addItem: async function (item) {\r\n            const db = await this.openDB();\r\n            return new Promise((resolve, reject) => {\r\n                const tx = db.transaction(storeName, 'readwrite');\r\n                const store = tx.objectStore(storeName);\r\n                const request = store.add(item);\r\n\r\n                request.onsuccess = () => resolve(request.result);\r\n                request.onerror = () => reject(request.error);\r\n            });\r\n        },\r\n\r\n        getItem: async function (id) {\r\n            const db = await this.openDB();\r\n            return new Promise((resolve, reject) => {\r\n                const tx = db.transaction(storeName, 'readonly');\r\n                const store = tx.objectStore(storeName);\r\n                const request = store.get(id);\r\n\r\n                request.onsuccess = () => resolve(request.result);\r\n                request.onerror = () => reject(request.error);\r\n            });\r\n        },\r\n\r\n        getAllItems: async function () {\r\n            const db = await this.openDB();\r\n            return new Promise((resolve, reject) => {\r\n                const tx = db.transaction(storeName, 'readonly');\r\n                const store = tx.objectStore(storeName);\r\n                const request = store.getAll();\r\n\r\n                request.onsuccess = () => resolve(request.result);\r\n                request.onerror = () => reject(request.error);\r\n            });\r\n        }\r\n    };\r\n}\r\n\r\nconst getHtml = () => {\r\n    return document.documentElement.outerHTML\r\n}\r\nconst getBodyText = () => {\r\n    let {textContent} = document.body\r\n\r\n    return textContent\r\n        // \u5220\u9664\u6CE8\u91CA\r\n        .replace(/\\s/g, \"\")\r\n        .trim();\r\n}\r\nconst getLinks = () => {\r\n    const links = Array.from(document.querySelectorAll('a[href]'))\r\n        .map(a => ({\r\n            url: a.getAttribute('href'),\r\n            a: a.innerText.trim()\r\n        }))\r\n        .filter(item =>\r\n            item.url &&\r\n            item.url.trim() !== '' &&\r\n            item.url.trim() !== 'undefined'\r\n        );\r\n    return links\r\n}\r\nconst setAutoRunJs = (code) => {\r\n    localStorage.setItem(\"__AutoRunJs\", code)\r\n}\r\nconst getTitle = () => {\r\n    return document.title\r\n}\r\n\r\n\r\nconst init = () => {\r\n    if (window._G.preload) {\r\n        window._G.preload({win_id: window._G.win_id})\r\n    }\r\n    const autoRunJs = localStorage.getItem(\"__AutoRunJs\")\r\n    if (autoRunJs) {\r\n        d(\"autoRunJs\")\r\n        eval(atob(autoRunJs))\r\n    }\r\n}\r\n\r\nconst preload = async ({win_id}) => {\r\n    window.addEventListener('keydown', async (e) => {\r\n        const cmdKeyPressed = (k) => {\r\n            return (e.metaKey || e.ctrlKey) && e.key.toLowerCase() === k\r\n        }\r\n        if (cmdKeyPressed(\"\\\\\")) {\r\n            e.preventDefault();\r\n            console.log(e.key)\r\n        }\r\n    }, true)\r\n    d(\"preload win_id:\",win_id)\r\n\r\n}\r\n\r\nconst _l = (...args) => {\r\n    console.debug('[CICY]', ...args);\r\n};\r\nconst d = _l;\r\nmodule.exports = {\r\n    _l,\r\n    preload,\r\n    init,\r\n    useIndexedDB,\r\n    getHtml,\r\n    getBodyText,\r\n    getLinks,\r\n    setAutoRunJs,\r\n    getTitle,\r\n    regxHTML1,\r\n    toggleDiv,\r\n    regxHTML,\r\n    cleanNode,\r\n    getCleanHtml,\r\n    showRect,\r\n    getChatGptChats,\r\n    Storage,\r\n    showFloatDiv,\r\n    hideFloatDiv\r\n}", "const ELECTRON_BASE_API_URL = \"http://127.0.0.1:3456\"\r\nconst AI_BASE_API_URL = \"https://api.cicy.de5.net\";\r\n\r\nconst post_rpc = async ({method, params}) => {\r\n    // console.log(ELECTRON_BASE_API_URL,params)\r\n    const res = await fetch(`${ELECTRON_BASE_API_URL}/rpc`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({method, params})\r\n    })\r\n    return res.json()\r\n}\r\n\r\nfunction openWindow(url, options, others) {\r\n    return post_rpc({\r\n        method: \"openWindow\",\r\n        params: {\r\n            url,\r\n            options: {\r\n                width: 1024,\r\n                height: 768,\r\n                ...options,\r\n                webPreferences: {\r\n                    ...options?.webPreferences\r\n                }\r\n            },\r\n            others\r\n        }\r\n    })\r\n\r\n}\r\n\r\nconst loadURL = async (url, win_id) => {\r\n    return post_rpc({\r\n        method: \"loadURL\",\r\n        params: {\r\n            win_id: win_id || 1,\r\n            url: url\r\n        }\r\n    })\r\n}\r\n\r\n\r\nconst sendInputEvent = async (inputEvent, win_id) => {\r\n    return post_rpc({\r\n        method: \"sendInputEvent\",\r\n        params: {\r\n            win_id: win_id || 1,\r\n            inputEvent\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * Simulates a mouse click at specific coordinates\r\n * @param {Electron.WebContents} webContents\r\n * @param {number} x\r\n * @param {number} y\r\n */\r\nasync function simulateClick(x, y, win_id) {\r\n    // 1. Press the mouse button down\r\n    await sendInputEvent({\r\n        type: 'mouseDown',\r\n        x: x,\r\n        y: y,\r\n        button: 'left',\r\n        clickCount: 1\r\n    }, win_id);\r\n\r\n\r\n    setTimeout(() => {\r\n        // 2. Release the mouse button\r\n        sendInputEvent({\r\n            type: 'mouseUp',\r\n            x: x,\r\n            y: y,\r\n            button: 'left',\r\n            clickCount: 1\r\n        }, win_id);\r\n    }, 50);\r\n}\r\n\r\n/**\r\n * Simulates a single key press (Down + Up)\r\n * @param {Electron.WebContents} contents\r\n * @param {string} key - e.g., \"Enter\", \"Escape\", \"A\", \"F1\"\r\n */\r\nasync function sendKey(key, win_id) {\r\n    await sendInputEvent({type: 'keyDown', keyCode: key}, win_id);\r\n    setTimeout(() => {\r\n        sendInputEvent({type: 'keyUp', keyCode: key}, win_id);\r\n    }, 50);\r\n\r\n}\r\n\r\nconst getElementRect = async (sel, win_id) => {\r\n    const {result} = await executeJavaScript(`\r\nconst ele = document.querySelector(\"${sel}\")\r\nconst {width,height,top,left} = ele.getBoundingClientRect()\r\nreturn {\r\n    width,height,top,left\r\n}\r\n    `, win_id)\r\n    return result;\r\n}\r\n\r\n\r\nconst executeJavaScript = async (code, win_id) => {\r\n    return post_rpc({\r\n        method: \"executeJavaScript\",\r\n        params: {\r\n            win_id: win_id || 1,\r\n            code\r\n        }\r\n    })\r\n}\r\n\r\nconst importCookies = async (cookies, win_id) => {\r\n    return post_rpc({\r\n        method: \"importCookies\",\r\n        params: {\r\n            win_id: win_id || 1,\r\n            cookies\r\n        }\r\n    })\r\n}\r\n\r\n\r\nconst getHtmlPageInfo = async (win_id) => {\r\n    const code = `\r\n(async ()=>{\r\n  const {getCleanHtml,getTitle} = window._G;\r\n  const cleanHtml = getCleanHtml();\r\n      \r\n  return {\r\n    t:Date.now(),\r\n    title:document.title,\r\n    url:location.href,\r\n    html:cleanHtml,\r\n  }\r\n})()\r\n    \r\n    \r\n    `\r\n    return post_rpc({\r\n        method: \"executeJavaScript\",\r\n        params: {\r\n            win_id: win_id || 1,\r\n            code\r\n        }\r\n    })\r\n}\r\n\r\nconst clearRequests = async (win_id) => {\r\n    return post_rpc({\r\n        method: \"clearRequests\",\r\n        params: {\r\n            win_id: win_id || 1,\r\n        }\r\n    })\r\n}\r\n\r\nconst getWindowState = async (win_id) => {\r\n    return post_rpc({\r\n        method: \"getWindowState\",\r\n        params: {\r\n            win_id: win_id || 1,\r\n        }\r\n    })\r\n}\r\nconst getRequests = async (win_id) => {\r\n    return post_rpc({\r\n        method: \"getRequests\",\r\n        params: {\r\n            win_id: win_id || 1,\r\n        }\r\n    })\r\n}\r\n\r\nconst downloadMedia = async (params, win_id) => {\r\n    return post_rpc({\r\n        method: \"downloadMedia\",\r\n        params: {\r\n            win_id: win_id || 1,\r\n            ...params\r\n        }\r\n    })\r\n}\r\n\r\n\r\nconst getSubTitles = async ({mediaPath}, win_id) => {\r\n    return post_rpc({\r\n        method: \"getSubTitles\",\r\n        params: {\r\n            win_id: win_id || 1,\r\n            mediaPath\r\n        }\r\n    })\r\n}\r\n\r\n\r\nfunction waitForResult(cb, timeout = -1, interval = 100) {\r\n    const startTime = Date.now();\r\n    return new Promise(resolve => {\r\n        const checkReply = async () => {\r\n            try {\r\n                const res = await Promise.resolve(cb()); // Ensure cb result is a Promise\r\n                if (res) {\r\n                    resolve(res);\r\n                    return;\r\n                }\r\n                // Check for timeout\r\n                if (timeout > -1 && Date.now() - startTime > timeout) {\r\n                    resolve({err: 'ERR_TIMEOUT'});\r\n                    return;\r\n                }\r\n                // Retry after interval\r\n                setTimeout(checkReply, interval);\r\n            } catch (error) {\r\n                console.error('Error in waitForResult callback:', error);\r\n                resolve({err: `ERR:${error}`});\r\n            }\r\n        };\r\n        checkReply();\r\n    });\r\n}\r\n\r\nasync function chatgptAsk(prompt) {\r\n    try {\r\n        const response = await fetch(`${AI_BASE_API_URL}/chatgpt/ask`, {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                input: prompt\r\n            })\r\n        });\r\n        const result = await response.json();\r\n\r\n        console.log(\"Full API response:\", result);\r\n        const messageItem = result.output.find(item => item.type === \"message\");\r\n        if (!messageItem) return {ok: false, error: \"No message in response\"};\r\n        // const outputText = messageItem.content[0].text;\r\n        // const res = JSON.parse(outputText)\r\n        console.log(\"Output text:\", messageItem.content);\r\n        return messageItem.content\r\n    } catch (e) {\r\n        console.error(e)\r\n        return {ok: false}\r\n    }\r\n}\r\n\r\n\r\nconst __MapArray = new Map();\r\n\r\nclass MapArray {\r\n    constructor(id) {\r\n        this.id = id\r\n    }\r\n\r\n    all() {\r\n        let rows = []\r\n        if (!__MapArray.has(this.id)) {\r\n            __MapArray.set(this.id, [])\r\n        } else {\r\n            rows = __MapArray.get(this.id)\r\n        }\r\n        return rows\r\n    }\r\n\r\n    push(entity) {\r\n        let rows = this.all()\r\n        rows.push(entity)\r\n        __MapArray.set(this.id, rows)\r\n    }\r\n\r\n    clear() {\r\n        __MapArray.set(this.id, [])\r\n    }\r\n}\r\n\r\nmodule.exports = {\r\n    chatgptAsk,\r\n    sendKey,\r\n    downloadMedia,\r\n    getWindowState,\r\n    getHtmlPageInfo,\r\n    waitForResult,\r\n    getRequests,\r\n    clearRequests,\r\n    executeJavaScript,\r\n    post_rpc,\r\n    MapArray,\r\n    importCookies,\r\n    openWindow,\r\n    loadURL,\r\n    getElementRect,\r\n    sendInputEvent,\r\n    simulateClick,\r\n    getSubTitles\r\n};\r\n", "const {toggleDiv} = require(\"../utils-browser\")\r\nconst {simulateClick} = require(\"../utils\");\r\n// --- Constants ---\r\nconst toastId = 'injector-toast-display';\r\n\r\nconst handleSelect = async (options) => {\r\n    let {text, mode} = options || {};\r\n    if (!text) {\r\n        const selection = window.getSelection();\r\n        text = selection.toString(); // The actual text that is selected\r\n    }\r\n    if (!text) {\r\n        return\r\n    }\r\n\r\n    const apiUrl = \"https://api.cicy.de5.net/t\";\r\n\r\n\r\n    let input\r\n    if (mode === 1) {\r\n\r\n        input = `Please correct the following English expression.\": \r\n--------\r\n${text}\r\n--------\r\n\r\nRespond ONLY in valid JSON with the single key \"text\" and nothing else.`\r\n        showToast(\"\u7EA0\u6B63\u4E2D...\")\r\n    } else {\r\n        showToast(\"\u7FFB\u8BD1\u4E2D...\")\r\n        input = `Translate the sentence below: \r\n--------\r\n${text}\r\n--------\r\n     into Chinese.\r\nRespond ONLY in valid JSON with the single key \"text\" and nothing else.`\r\n\r\n    }\r\n    const requestBody = {\r\n        input\r\n    }\r\n\r\n    try {\r\n        const response = await fetch(apiUrl, {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(requestBody)\r\n        });\r\n\r\n        const result = await response.json();\r\n\r\n        console.log(\"Full API response:\", result);\r\n        const messageItem = result.output.find(item => item.type === \"message\");\r\n        if (!messageItem) return {error: \"No message in response\"};\r\n        const outputText = messageItem.content[0].text;\r\n        const res = JSON.parse(outputText)\r\n        console.log(\"Output text:\", res.text);\r\n\r\n        if (mode === 1) {\r\n            navigator.clipboard.writeText(res.text)\r\n                .then(() => {\r\n                    console.log(\"Copied to clipboard!\");\r\n\r\n                })\r\n                .catch((err) => {\r\n                    console.error(\"Failed to copy: \", err);\r\n                });\r\n            showToast(res.text, {timeout: 10})\r\n        } else {\r\n            showToast(res.text, {timeout: 4})\r\n        }\r\n\r\n    } catch (err) {\r\n        showToast(err, true)\r\n        console.error(\"Error calling worker:\", err);\r\n    }\r\n\r\n};\r\n\r\n// --- UI Feedback (Toast) ---\r\n\r\nconst showToast = (msg, options) => {\r\n    const {isError, timeout} = options || {}\r\n    const existing = document.getElementById(toastId);\r\n    if (existing) existing.remove();\r\n\r\n    const div = document.createElement('div');\r\n    div.id = toastId;\r\n    div.textContent = msg;\r\n    div.style.cssText = `\r\n    position: fixed;\r\n    top: 20px;\r\n    right: 20px;\r\n    padding: 10px 20px;\r\n    background: ${isError ? '#ff4444' : '#222'};\r\n    color: white;\r\n    border-radius: 4px;\r\n    z-index: 2147483647;\r\n    font-family: sans-serif;\r\n    font-size: 14px;\r\n    box-shadow: 0 4px 6px rgba(0,0,0,0.1);\r\n    transition: opacity 0.3s ease;\r\n    pointer-events: none;\r\n  `;\r\n    document.body.appendChild(div);\r\n\r\n    setTimeout(() => {\r\n        div.style.opacity = '0';\r\n        setTimeout(() => div.remove(), 300);\r\n    }, timeout * 1000 || 2000);\r\n};\r\n\r\n// --- Event Listeners ---\r\n\r\n// 1. Auto Inject on Page Load\r\nwindow.addEventListener('load', () => {\r\n    console.log(\"load\")\r\n    toggleTerminal()\r\n});\r\n\r\n// 2. Hot Reload Shortcut (Cmd+I / Ctrl+I)\r\ndocument.addEventListener('keydown', async (e) => {\r\n    if ((e.metaKey || e.ctrlKey) && e.key.toLowerCase() === 'i') {\r\n        e.preventDefault();\r\n        handleSelect();\r\n    }\r\n    if ((e.metaKey || e.ctrlKey) && e.key.toLowerCase() === 'u') {\r\n        e.preventDefault();\r\n        handleSelect({\r\n            mode: 1\r\n        });\r\n    }\r\n    // Cmd/Ctrl + Shift + P\r\n    if ((e.metaKey || e.ctrlKey) && e.shiftKey) {\r\n        if (e.key.toLowerCase() === 'p') {\r\n            chrome.runtime.sendMessage({\r\n                type: \"copy-domain-cookies\"\r\n            });\r\n        }\r\n        if (e.key.toLowerCase() === 'l') {\r\n            chrome.runtime.sendMessage({\r\n                type: \"open-in-electron\"\r\n            });\r\n        }\r\n\r\n        e.preventDefault();\r\n    }\r\n});\r\n\r\n// 3. Listen for Context Menu Trigger\r\nif (chrome && chrome.runtime) {\r\n    chrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\r\n        if (message.type === \"copyTgAuth\") {\r\n            let res = \"\"\r\n            for (let i = 0; i < Object.keys(localStorage).length; i++) {\r\n                const k = Object.keys(localStorage)[i]\r\n                const v = localStorage.getItem(k)\r\n                res += `localStorage.setItem(\"${k}\",\\`${v}\\`);\\n`\r\n            }\r\n            console.log(res)\r\n\r\n            navigator.clipboard.writeText(res)\r\n                .then(() => {\r\n                    showToast(`localStorage copied`, {timeout: 4});\r\n                })\r\n                .catch(() => {\r\n                    showToast(\"localStorage write failed\", {isError: true, timeout: 4});\r\n                });\r\n        }\r\n\r\n        if (message.type === \"toggleDiv\") {\r\n            toggleDiv()\r\n        }\r\n        if (message.type === \"copy-domain-cookies\") {\r\n            console.log(\"copy-domain-cookies\", message.domain, message.payload)\r\n            navigator.clipboard.writeText(JSON.stringify(message.payload))\r\n                .then(() => {\r\n                    showToast(`Cookies copied for: ${message.domain}`, {timeout: 4});\r\n                })\r\n                .catch(() => {\r\n                    showToast(\"Clipboard write failed\", {isError: true, timeout: 4});\r\n                });\r\n        }\r\n    });\r\n}\r\n\r\nfunction toggleTerminal() {\r\n\r\n    setInterval(() => {\r\n        console.debug(\"loop\")\r\n        if (\r\n            location.href.startsWith(\"https://colab.research.google.com/\")\r\n        ) {\r\n            const res = document.querySelector(\"body > div.notebook-vertical > div.notebook-horizontal > colab-left-pane > colab-resizer\")\r\n            if (!res) {\r\n                document.querySelector(\"#cell-3kzh_tuJISRi > div.main-content > div > div.codecell-input-output > div.inputarea.horizontal.layout.code > div.cell-gutter > div > colab-run-button\").shadowRoot.querySelector(\"#run-button\").click()\r\n            }\r\n        }\r\n\r\n        if (\r\n            location.href.startsWith(\"https://shell.cloud.google.com/\")\r\n        ) {\r\n            const container = document.querySelector(\"cloudshell-view-controls\");\r\n            if (!container.querySelector(\"button[aria-label=\\\"\u6253\u5F00\u7F16\u8F91\u5668\\\"]\")) {\r\n                return\r\n            }\r\n\r\n            const openBtn = document.querySelector('button[aria-label=\"\u6253\u5F00\u65B0\u6807\u7B7E\u9875\"]');\r\n            if (openBtn) {\r\n                const rows = document.querySelectorAll('button[mattooltip=\"\u5173\u95ED\u6807\u7B7E\"]')\r\n                let i = 0\r\n                rows.forEach(ele => {\r\n                    i += 1\r\n                    if (i > 1) {\r\n                        ele.click()\r\n                    }\r\n                })\r\n                openBtn.click()\r\n            }\r\n        }\r\n    }, 20000)\r\n}\r\n"],
  "mappings": "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",
  "names": ["exports", "module", "simulateClick", "toggleDiv"]
}
